
~function(){function b(){var e=0,h=1000,j=0,d=0,g=Date.now(),c,i;function k(l){return(l>h)?h:(l<e)?e:l}function f(){}this.duration=1950;this.position=0;this.updateInterval=1000/60;this.onPositionChanged=f;this.onScrollStarted=f;this.onScrollStopped=f;this.setRange=function(m,l){e=m;h=l};this.getRange=function(){return{minimum:e,maximum:h}};this.setPosition=function(m){var l=this;this.position=k(m);this.onPositionChanged(this.position);if(!i){i=window.setInterval(function(){var p=Date.now(),n=p-g,o=(l.position-j)*1000/n;if(i&&n>=l.updateInterval){g=p;if(o>1||o<-1){d=0.2*(d)+0.8*o;j=l.position}}},this.updateInterval)}};this.resetSpeed=function(){d=0;j=this.position;window.clearInterval(i);i=null};this.release=function(){var l=this,m=d,o=this.position+m,n=1+this.duration/6,p=Date.now();window.clearInterval(i);i=null;if(d>1||d<-1){this.onScrollStarted(l.position);window.clearInterval(i);i=window.setInterval(function(){var q=Date.now()-p;if(i){l.position=o-m*Math.exp(-q/n);l.position=k(l.position);l.onPositionChanged(l.position);if(q>l.duration){l.resetSpeed();l.onScrollStopped(l.position)}}},this.updateInterval)}}}function a(h){var e=new b(),j=false,i=0,d=$("<div></div>");e.onPositionChanged=function(k){d.trigger("move",k)};d.adjustRange=function(k){e.setRange(0,k);return d};d.setPosition=function(k){e.position=k;return d};function f(k){j=true;if(k.targetTouches&&(k.targetTouches.length>=1)){i=k.targetTouches[0].clientY}else{i=k.clientY}e.resetSpeed();k.preventDefault();k.stopPropagation();return false}function c(k){j=false;e.release();k.preventDefault();k.stopPropagation();return false}function g(k){var m,l;if(!j){return}if(k.targetTouches&&(k.targetTouches.length>=1)){m=k.targetTouches[0].clientY}else{m=k.clientY}l=i-m;if(l>2||l<-2){e.setPosition(e.position+=l);i=m}k.preventDefault();k.stopPropagation();return false}return d}window.Kinetics=a}();